library(tidyverse)
library(readxl)
library(showtext)
# Load data and replace 999 with NA
raw_df <- read_xlsx("./Mikesell_Phenology_Data.xlsx",sheet=1)
raw_df$species <- as.factor(raw_df$species)
raw_df[raw_df$bud_burst==999,3] <- NA
raw_df[raw_df$first_leaf==999,4] <- NA
raw_df[raw_df$full_leaf==999,5] <- NA
#windowsFonts(Inter = windowsFont("Inter"))
font_add_google("Inter","inter")
showtext_auto()
theme_nice <- function() {
theme_minimal(base_family = "inter") +
theme(panel.grid.minor = element_blank(),
plot.title = element_text(family= "inter", face = "bold"),
axis.title = element_text(family = "inter"),
strip.text = element_text(family = "inter", face = "bold",
size = rel(1), hjust = 0),
strip.background = element_rect(fill = "grey80", color = NA))
}
update_geom_defaults("label", list(family="inter"))
update_geom_defaults(ggtext::GeomRichText, list(family="inter"))
ans <- summarize(raw_df, med=median(bud_burst))
ans <- summarize(raw_df, avg=mean(bud_burst))
View(ans)
ans <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst))
View(ans)
ans <- raw_df |>
+ group_by(species) |>
+ summarize(bud_burst = median(bud_burst,na.rm=TRUE))
ans <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE))
View(ans)
ans <- order(ans$bud_burst)
ans <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE))
ans <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE)) |>
arrange(bud_burst)
View(ans)
order <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE)) |>
arrange(bud_burst)
View(order)
View(order)
raw_df$species <- relevel(raw_df$species, order)
raw_df$species <- relevel(raw_df$species, order$species)
raw_df$species <- relevel(raw_df$species, list(order$species))
ans <- order$species
View(order)
raw_df$species <- relevel(raw_df$species, "Populus tremuloides", "Salix nigra")
View(raw_df)
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
order <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE)) |>
arrange(bud_burst)
raw_df$species <- relevel(raw_df$species, "Populus tremuloides", "Salix nigra")
ggplot(data = raw_df, aes(x = bud_burst, y = species)) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
raw_df$species <- reorder(raw_df$species, raw_df$bud_burst, FUN = median)
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
order <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE)) |>
arrange(bud_burst)
raw_df$species <- reorder(raw_df$species, raw_df$bud_burst, FUN = median)
ggplot(data = raw_df, aes(x = bud_burst, y = species)) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
View(raw_df)
#| code-fold: true
library(lubridate)
library(tidyverse)
library(readxl)
library(showtext)
# Load data and replace 999 with NA
raw_df <- read_xlsx("./Mikesell_Phenology_Data.xlsx",sheet=1)
raw_df$species <- as.factor(raw_df$species)
raw_df[raw_df$bud_burst==999,3] <- NA
raw_df[raw_df$first_leaf==999,4] <- NA
raw_df[raw_df$full_leaf==999,5] <- NA
#windowsFonts(Inter = windowsFont("Inter"))
font_add_google("Inter","inter")
showtext_auto()
theme_nice <- function() {
theme_minimal(base_family = "inter") +
theme(panel.grid.minor = element_blank(),
plot.title = element_text(family= "inter", face = "bold"),
axis.title = element_text(family = "inter"),
strip.text = element_text(family = "inter", face = "bold",
size = rel(1), hjust = 0),
strip.background = element_rect(fill = "grey80", color = NA))
}
update_geom_defaults("label", list(family="inter"))
update_geom_defaults(ggtext::GeomRichText, list(family="inter"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
order <- raw_df |>
group_by(species) |>
summarize(bud_burst = median(bud_burst,na.rm=TRUE)) |>
arrange(bud_burst)
raw_df$species <- reorder(raw_df$species, raw_df$bud_burst, FUN = median)
ggplot(data = raw_df, aes(x = bud_burst, y = species)) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
View(raw_df)
levels(raw_df$species)
reorder(raw_df$species, raw_df$bud_burst, FUN = median)
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median(na.rm = TRUE)))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median(raw_df$bud_burst,na.rm = TRUE)))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
View(order)
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = rev(reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE)))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reverse(reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE)))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), draw_quantiles = 0.5, show.legend = FALSE, na.rm = TRUE) +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun.y = "median", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun.x = "median", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", geom = "line", orientation="y") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", geom = "line", orientation="x") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(raw_df$bud_burst, fun = "median", geom = "line", orientation="y") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(aes(), raw_df$bud_burst, fun = "median", geom = "line", orientation="y") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun.data = raw_df$bud_burst, fun = "median", geom = "line", orientation="y") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun.data = raw_df$bud_burst, fun = "median", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", orientation="y", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", orientation="x", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", orientation="y", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(aes(group = species), fun = "median", orientation="y", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(aes(x = bud_burst, y = species, group = species), fun = "median", orientation="y", geom = "line") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
scale_y_discrete(limits=rev) +
theme_nice() +
theme(axis.text.y = element_text(face="italic"))
#| code-fold: true
library(knitr)
knitr::opts_chunk$set(fig.width = 7, fig.align = "center",
fig.retina = 1, out.width = "90%",
collapse = TRUE)
#| code-fold: true
library(lubridate)
library(tidyverse)
library(readxl)
library(showtext)
# Load data and replace 999 with NA
raw_df <- read_xlsx("./Mikesell_Phenology_Data.xlsx",sheet=1)
raw_df$species <- as.factor(raw_df$species)
raw_df[raw_df$bud_burst==999,3] <- NA
raw_df[raw_df$first_leaf==999,4] <- NA
raw_df[raw_df$full_leaf==999,5] <- NA
#windowsFonts(Inter = windowsFont("Inter"))
font_add_google("Inter","inter")
showtext_auto()
theme_nice <- function() {
theme_minimal(base_family = "inter") +
theme(panel.grid.minor = element_blank(),
plot.title = element_text(family= "inter", face = "bold"),
axis.title = element_text(family = "inter"),
strip.text = element_text(family = "inter", face = "bold",
size = rel(1), hjust = 0),
strip.background = element_rect(fill = "grey80", color = NA))
}
update_geom_defaults("label", list(family="inter"))
update_geom_defaults(ggtext::GeomRichText, list(family="inter"))
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
title("Bud burst dates for various trees in Wauseon, Ohio between 1883 and 1912") +
scale_y_discrete(limits=rev) +
theme_nice()
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
ggtitle("Bud burst dates for various trees in Wauseon, Ohio between 1883 and 1912") +
scale_y_discrete(limits=rev) +
theme_nice()
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
ggtitle("Bud burst dates for various trees in\n Wauseon, Ohio between 1883 and 1912") +
scale_y_discrete(limits=rev) +
theme_nice()
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = bud_burst, y = reorder(raw_df$species, raw_df$bud_burst, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
scale_x_continuous(breaks=(c(100,110,120,130,140)),labels=c("April 10","April 20","April 30","May 10","May 20")) +
ggtitle("Bud burst dates for various trees in\nWauseon, Ohio between 1883 and 1912") +
scale_y_discrete(limits=rev) +
theme_nice()
View(raw_df)
#| code-fold: true
#| label: fig-violin-plots
# Compute median phenophase doy for each species and order by increasing date
ggplot(data = raw_df, aes(x = full_leaf, y = reorder(raw_df$species, raw_df$full_leaf, FUN = median, na.rm = TRUE))) +
geom_violin(aes(fill = species), show.legend = FALSE, na.rm = TRUE) +
stat_summary(fun = "median", size = 3.5, geom = "point") +
geom_jitter(aes(alpha = year), height = 0, width = 0.2) +
xlab("Date") + ylab("Species") +
ggtitle("Full leaf dates for various trees in\nWauseon, Ohio between 1883 and 1912") +
scale_y_discrete(limits=rev) +
theme_nice()
